<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Panda Birthday Surprise</title>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', sans-serif;
      background: #fbeaff;
      overflow-x: hidden;
    }
    #login, #step2, #step3, #itsYou, #fallingImages {
      display: none;
      justify-content: center;
      align-items: center;
      height: 100vh;
      flex-direction: column;
      text-align: center;
    }
    #login {
      display: flex;
    }
    input[type="text"] {
      padding: 10px;
      font-size: 18px;
      border-radius: 8px;
      border: 2px solid #ccc;
    }
    button {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 18px;
      border: none;
      border-radius: 8px;
      background: #ff69b4;
      color: white;
      cursor: pointer;
    }
    #funButton {
      position: relative;
    }
    #typedText {
      white-space: pre-line;
      font-size: 24px;
      color: #444;
      max-width: 90%;
    }
    #googleSearch {
      display: none;
      height: 100vh;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }
    .search-bar {
      width: 90%;
      max-width: 500px;
      padding: 10px;
      font-size: 20px;
      border-radius: 25px;
      border: 2px solid #ccc;
      text-align: center;
    }
    .floating-text {
      position: absolute;
      font-size: 2rem;
      animation: float 4s linear infinite;
      color: #ff4081;
    }
    @keyframes float {
      0% { left: -10%; }
      100% { left: 110%; }
    }
    .falling-img {
      position: absolute;
      width: 80px;
      animation: fall linear infinite;
      opacity: 0.8;
    }
    @keyframes fall {
      0% { top: -100px; opacity: 0; transform: rotate(0deg); }
      100% { top: 100vh; opacity: 1; transform: rotate(360deg); }
    }
    h1, h2 {
      color: #d63384;
    }
  </style>
</head>
<body>

<audio id="bgMusic" src="https://www.computerhope.com/jargon/m/example.mp3" loop></audio>

<!-- Step 1: Login -->
<div id="login">
  <div>
    <h1>Please Enter Your Name Beautiful 🩷</h1>
    <input type="text" id="nameInput" placeholder="Your name here" />
    <button onclick="checkName()">Submit</button>
    <p id="loginMessage"></p>
  </div>
</div>

<!-- Step 2 -->
<div id="step2">
  <h1 id="step2msg">Do You Know What’s the greatest thing happened on August 8?</h1>
  <button id="funButton" onclick="buttonClicked()" onmouseover="moveButton()">Click here to know</button>
  <p id="typedText"></p>
</div>

<!-- Step 3: Google Search -->
<div id="googleSearch">
  <h1>Searching...</h1>
  <input class="search-bar" id="fakeSearch" type="text" readonly />
</div>

<!-- Step 4 Removed -->

<!-- Step 5: It’s YOU! -->
<div id="itsYou">
  <div id="floatingWrapper">
    <div class="floating-text" style="top: 10%;">It’s YOU! 🎉</div>
    <div class="floating-text" style="top: 30%;">It’s YOU! 🎉</div>
    <div class="floating-text" style="top: 50%;">It’s YOU! 🎉</div>
    <div class="floating-text" style="top: 70%;">It’s YOU! 🎉</div>
    <div class="floating-text" style="top: 90%;">It’s YOU! 🎉</div>
  </div>
</div>

<!-- Step 6: Falling Images -->
<div id="fallingImages">
  <h1>Happy Birthday Panda! 🎂🎉</h1>
  <h2>Wishing you endless smiles and panda hugs today and always!</h2>
</div>

<script>
  const login = document.getElementById('login');
  const step2 = document.getElementById('step2');
  const step3 = document.getElementById('googleSearch');
  const itsYou = document.getElementById('itsYou');
  const fallingImages = document.getElementById('fallingImages');
  const bgMusic = document.getElementById('bgMusic');

  function checkName() {
    const name = document.getElementById('nameInput').value.trim().toLowerCase();
    const message = document.getElementById('loginMessage');

    if (name === 'panda') {
      message.innerText = 'Welcome, bestie! Redirecting...';
      bgMusic.play();
      setTimeout(() => {
        login.style.display = 'none';
        step2.style.display = 'flex';
      }, 4000);
    } else {
      alert("It’s a wrong input – baga alochinchu 😜");
    }
  }

  let attempts = 0;
  function moveButton() {
    if (attempts < 5) {
      const button = document.getElementById('funButton');
      const x = Math.random() * (window.innerWidth - 200);
      const y = Math.random() * (window.innerHeight - 100);
      button.style.position = 'absolute';
      button.style.left = `${x}px`;
      button.style.top = `${y}px`;
      attempts++;
    }
  }

  function buttonClicked() {
    document.getElementById('funButton').style.display = 'none';
    document.getElementById('step2msg').style.display = 'none';
    typeText("- Natural disasters 🌀\n- Internet outages 🌐\n- Power failures ⚡", () => {
      setTimeout(() => {
        document.getElementById('typedText').innerText = "Do You Know What’s the greatest things happened on August 8?";
        setTimeout(() => {
          step2.style.display = 'none';
          startGoogleSearch();
        }, 2000);
      }, 2000);
    });
  }

  function typeText(text, callback) {
    let i = 0;
    const speed = 50;
    const typedText = document.getElementById('typedText');
    typedText.innerText = '';

    function type() {
      if (i < text.length) {
        typedText.innerText += text.charAt(i);
        i++;
        setTimeout(type, speed);
      } else {
        callback();
      }
    }
    type();
  }

  function startGoogleSearch() {
    step3.style.display = 'flex';
    const searchBox = document.getElementById('fakeSearch');
    const question = "Best thing happened on 8th August?";
    let i = 0;
    function typeSearch() {
      if (i < question.length) {
        searchBox.value += question.charAt(i);
        i++;
        setTimeout(typeSearch, 100);
      } else {
        setTimeout(() => {
          step3.style.display = 'none';
          startItsYou();
        }, 2000);
      }
    }
    typeSearch();
  }

  function startItsYou() {
    itsYou.style.display = 'flex';
    setTimeout(() => {
      itsYou.style.display = 'none';
      startFallingImages();
    }, 4000);
  }

  function startFallingImages() {
    fallingImages.style.display = 'flex';
    for (let i = 0; i < 14; i++) {
      const img = document.createElement('img');
      const ext = i % 2 === 0 ? 'jpg' : 'jpeg';
      img.src = `images/image${i + 1}.${ext}`;
      img.className = 'falling-img';
      img.style.left = Math.random() * 100 + 'vw';
      img.style.animationDuration = (Math.random() * 3 + 3) + 's';
      img.style.width = (Math.random() * 40 + 80) + 'px';
      document.body.appendChild(img);
    }
  }
</script>
</body>
</html>
